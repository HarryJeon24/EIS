<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EIS – Create Post</title>

  <link rel="icon" href="../public/favicon.svg" type="image/svg+xml" />
  <meta name="theme-color" content="#002878" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <!-- Reuse the existing theme and layout styles to keep the look identical -->
  <link rel="stylesheet" href="../css/auth.css" />
  <link rel="stylesheet" href="../css/main.css" />
  <style>
    /* Page-specific light layout wrapper */
    .create-shell {
      max-width: 900px;
      margin: 16px auto;
      padding: 0 16px;
      display: grid;
      gap: 18px;
      grid-template-columns: 1fr;
    }
    .create-card {
      background: #fff;
      border: 1px solid #eceef1;
      border-radius: 14px;
      padding: 16px 18px;
    }
    .create-card h1 { margin: 0 0 8px; line-height: 1.3; }
    .field textarea { min-height: 160px; }
  </style>
</head>
<body class="eis-app">
  <!-- Top bar reused for consistent look -->
  <header class="topbar">
    <div class="topbar-left">
      <a href="./main.html" style="display:flex;align-items:center;gap:10px;text-decoration:none;color:inherit">
        <img src="../public/favicon.svg" alt="EIS" class="topbar-logo" />
        <div>
          <div class="topbar-title">EIS</div>
          <div class="topbar-subtitle">Emory International Student Forum</div>
        </div>
      </a>
    </div>
    <div class="topbar-right">
      <a class="ghost" href="./main.html">← Back to feed</a>
    </div>
  </header>

  <main class="create-shell">
    <section class="create-card" role="form" aria-labelledby="cp-title" aria-describedby="cp-desc">
      <h1 id="cp-title">Create Post</h1>
      <p id="cp-desc" class="muted">This demo is front-end only; submitting will return you to the feed.</p>

      <form id="createPostForm" novalidate>
        <div class="field">
          <label for="cp-title-input">Title</label>
          <input id="cp-title-input" type="text" placeholder="e.g. Looking for roommate near campus" required />
        </div>

        <div class="field">
          <label for="cp-category">Category</label>
          <select id="cp-category" required>
            <option value="">Select a category…</option>
            <option>Housing</option>
            <option>Food</option>
            <option>Visa</option>
            <option>Jobs</option>
            <option>Activities/Clubs</option>
            <option>Courses</option>
          </select>
        </div>

        <div class="field">
          <label for="cp-body">Content</label>
          <textarea id="cp-body" placeholder="Give details, links, or what you’ve tried." required></textarea>
        </div>

        <div class="row between">
          <a class="ghost" href="./main.html">Cancel</a>
          <button class="primary" type="submit">Post</button>
        </div>

        <div id="cp-msg" class="form-message" role="status" aria-live="polite"></div>
      </form>
    </section>
  </main>

  <script type="module">
    // Minimal demo behavior: validate and return to feed (no backend)
    const form = document.getElementById('createPostForm');
    const msg = document.getElementById('cp-msg');
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const title = document.getElementById('cp-title-input').value.trim();
      const cat = document.getElementById('cp-category').value.trim();
      const body = document.getElementById('cp-body').value.trim();
      if (!title || !cat || !body) {
        msg.textContent = 'Please complete all fields.';
        msg.classList.add('error');
        return;
      }
      // In a real app this would POST to an API, then redirect.
      msg.textContent = 'Post created (demo). Returning to feed…';
      setTimeout(() => { window.location.href = './main.html'; }, 600);
    });
  </script>
</body>
</html>
